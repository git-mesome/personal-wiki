# ARP, RARP

## **1. ARP (Address Resolution Protocol)**

*   IP 주소를 이용해 상대방의 MAC 주소를 알아오는 프로토콜

    즉, IP 주소만 알고 있을 때 그 IP에 해당하는 MAC 주소를 결정하는 프로토콜
* 논리적 주소를 물리적 주소로 변환
* 주소 결정 프로토콜

ARP 요청·응답 완료되면 ARP table에 각 노드의 ARP 정보를 저장한다.

![](<../../.gitbook/assets/image (3) (1).png>)

**ARP 요청**: 특정 IP주소에 대해 MAC주소를 요구, MAC 주소를 알지 못하기 때문에 브로드 캐스트로 전송한다.

![](../../.gitbook/assets/image.png)

계속해서 ARP Request를 하게 되면 브로드캐스팅을 하게 된다. 브로드캐스팅을 지속적으로 하게 된다면 네트워크 트래픽이 증가해 CPU의 부담을 줄 수 있기에 최근에 얻은 IP 주소와 MAC 주소 Mapping 값을 보관하는 캐시 정보를 이용한다.

**ARP 응답**: 요청한 MAC 주소 정보를 유니캐스트로 전송한다.

* MAC 주소에 해당하는 IP 주소를 알아오는 프로토콜
* 일반적이지 않은 경우에 사용
  *   디스크가 없는 컴퓨터

      즉, 디스크가 없는 컴퓨터는 중앙 서버를 두고 각 클라이언트가 디스크 없이 서버의 데이터를 받아 사용하도록 함을 말한다. 하드웨어 비용을 줄일 수 있다는 장점이있다. 처음 컴퓨터에 전원이 들어오면서 통신을 위해 RARP 서버로부터 IP를 얻기 위해 사용된다.

**RARP 요청**: MAC정보를 담고있는 RARP 정보를 브로드 캐스트로 전송한다.

**RARP 응답**: 요청자의 IP 주소를 담은 RARP 응답을 유니캐스트로 전송한다.

![](<../../.gitbook/assets/image (2).png>)

RARP는 MAC 주소를 이용해 IP 주소를 제공한다. 하드 디스크가 없는 호스트에서는 송신 호스트 IP 주소를 보관할 방법이 없으므로 LAN 카드에 내장된 MAC 주소를 매개변수로 사용하여 RARP 기능을 수행하여 자신의 IP 주소를 얻어야 한다.MAC 주소와 IP 주소의 매핑 값을 보관하고 있는 호스트로부터 IP 주소를 얻어야만 한다.

RARP의 기능을 전담 서버가 하나 이상 존재하므로 모든 호스트가 RARP 변환 요청을 받아도 해당 정보를 보관하고 있는 RARP 서버만 응답할 수 있다.

자신의 IP 주소를 얻은 다음, 미리 정해진 호스트로부터 자신의 부트 이미지를 다운로드를 한다. 이러한 시스템은 ROM 등의 비활성 메모리에 다른 호스트와 통신하여 필요한 부트 이미지를 수신할 수 있는 TFTP 등의 기본 프로토콜이 존재한다.

#### **3. GARP (Gratuious ARP)**

송신 IP와 수신 IP가 동일한 ARP 요청이다.

자신의 존재를 알리는 목적으로 사용한다.

IP 충돌 감지, ARP 테이블 갱신 용도로 사용한다.

#### Proxy ARP

Subnet을 인식하지 못하는 호스트와 subnet을 인식하는 다른 호스트가 공존할 수 있도록 하기 위해 broadcast 전송 네트워크에 사용된다.
